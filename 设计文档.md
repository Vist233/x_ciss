下面给你一份**“Streamlit Demo 工作台”设计布局清单**（写死数据、写死内容、可直接照着搭 UI）。
我会按：**全局结构 → 4 个页面布局（上/中/下区块）→ 每块需要的写死数据 → 需要的图片/素材** 来写。
你只要把文档里的【数据文件】按我标注准备好，就能完整跑起来。

---

# 0. 全局结构（所有页面一致）

## 0.1 顶部固定区（Header）

**目的：让评委感觉是同一个患者在流动，而不是PPT翻页。**

**组件：**

* 顶部标题：`医生工作台（Demo）`
* 患者信息卡（横向一条）：

  * 患者ID（匿名）、性别、年龄
  * 主诉一句话
  * 就诊时间
* 进度条/步骤条（写死当前页面高亮）：

  * 问诊 → 开检查 → 查结果 → 写病历

**写死数据：**

* `patient.json`：患者基本信息（见文末数据清单）

---

## 0.2 左侧导航（Sidebar）

**组件：**

* `radio` 或 `tabs`（建议 radio 更像 HIS）

  * `问诊`
  * `开检查`
  * `检查结果`
  * `病历单`

**写死逻辑：**

* 切页面时不需要“状态迁移”，直接展示对应页面写死内容即可。

---

## 0.3 右侧辅助栏（可选，但建议）

**注意：你说不体现影子Agent，所以这里不出现“推理链”。**
右侧可以做“快捷摘要”，提升真实感：

**组件：**

* `关键线索摘要`（3~6条 bullet）
* `本次已完成`（已开检查/已回结果的列表）
* `快捷入口`：按钮（跳到对应页面）

**写死数据：**

* `summary.json`

---

# 1) 页面一：问诊（录音文本 + 相似病例推荐）

> 结构：**上半对话 / 下半相似病例**（完全写死）

## 1.1 页面布局（建议 `st.container` 分区）

### A区：对话区（上半部分，占70%高度）

**布局：两列**

* 左列（主）：对话流（聊天样式）
* 右列（辅）：对话标签/摘要（写死）

**左列组件：**

* 标题：`问诊对话（录音转写）`
* 对话气泡列表（病人/医生不同样式）

  * 每条：时间戳 + 角色 + 原句
* 页尾：一个“结束问诊”按钮（演示用，点击只是弹 toast：`已进入下一阶段（Demo）`）

**右列组件：**

* 标题：`对话要点（摘录）`
* 3~6条要点（写死）
* 一个小卡片：`已捕捉原句：12条（Demo）`

**写死数据：**

* `transcript.json`：对话列表（带ts、role、text）
* `dialogue_highlights.json`：要点列表

---

### B区：相似病例区（下半部分，占30%高度）

**布局：三列卡片墙（每行3张，最多6张）**

每张病例卡固定结构（很重要，避免像论文）：

* 标题：`病例 #A1023（相似度 0.86）`
* 主诉：1行
* 关键过程：2行（时间线）
* 关键阳性/阴性：2行
* 最终诊断：标签（badge）
* 转归：短标签
* 右下角：`相似点/不同点`（各1行，写死）

**交互（演示即可）：**

* 卡片底部按钮：`查看摘要` → 弹出 modal（显示病例摘要全文，写死）

**写死数据：**

* `similar_cases.json`：病例卡列表 + 摘要全文

**可选图片：**

* 不必须。若想更真实：每张卡片左上角放一个小icon（病例、住院、门诊）

  * 【图片】`icons/case.png`（可选）

---

# 2) 页面二：开检查（排序选择列表 + 提交弹窗提醒 + 书本引用）

> 结构：**上：组套/搜索；中：可选列表；右：已选清单；下：提交**

## 2.1 页面布局（建议三列）

### A区：顶部条（组套 + 搜索）

**组件：**

* 标题：`开检查（Demo）`
* 一排组套按钮（写死3~5个）：

  * `胸闷基础组套`
  * `炎症评估组套`
  * `心肌损伤排查`
  * `影像基础组套`
* 搜索框：`搜索检查项目（Demo）`（输入不需要真筛选，也可以真筛选写死列表）

**写死数据：**

* `order_sets.json`：组套名称 + 包含项目（列表）

---

### B区：中部主体（三列）

#### 左列：排序检查列表（可勾选）

**组件：**

* 子标题：`推荐检查（已排序）`
* 列表每项显示：

  * 检查名
  * “优先级标签”（高/中/低）
  * “为什么在这里”（一句话理由，写死）
  * 成本/风险小标签（写死，比如“有辐射/无辐射”“需空腹”等）

> 交互：checkbox 勾选即可。

**写死数据：**

* `orders_ranked.json`：检查项 + priority + reason + tags

#### 中列：已选检查清单

**组件：**

* 子标题：`已选检查`
* 展示已选条目（可删除）
* 总计信息（写死也行）：预计费用范围/预计耗时

> 如果你不想算，直接写死：`预计总费用：¥xxx～¥xxx（Demo）`

#### 右列：注意事项（不是Agent）

**组件：**

* 子标题：`开单注意（提示）`
* 2~4条“通用提醒”写死，例如：

  * “近期重复检查需留意”
  * “造影前确认过敏史”
  * “空腹项目请交代”

---

### C区：底部提交区（重点）

**组件：**

* 按钮：`提交检查单`
* 点击后弹出 modal：`AI检查提醒（Demo）`

**弹窗内容结构（必须像临床）：**
按“提醒卡片”逐条展示（3~6条）：

* 标题：提醒类型（重复/低收益/风险）
* 解释：1~2行（写死）
* 病人上下文：上次检查时间/结果（写死）
* 书本引用：短引用（<=2行） + 书名/章节/页码（写死）
* “医生选择”：两个按钮

  * `继续下单（我已知晓）`
  * `返回调整`

**写死数据：**

* `order_warnings.json`：提醒条目列表（含引用信息）

**需要图片/素材：**

* 【可选】书本引用截图（提升可信度）

  * `refs/ref1.png`, `refs/ref2.png` …
    *每条提醒配一张小截图（裁剪到只剩原文那段）*

---

# 3) 页面三：检查结果（上异常汇总 + 下原始表格）

> 结构：上半“异常看板” + 下半“原始报告表”

## 3.1 页面布局（上下两块）

### A区：异常指标看板（上半）

**布局：两列**

* 左列：异常指标卡片列表
* 右列：异常趋势/解释（写死）

**左列：异常卡片（每个指标一张卡）**
每张卡固定字段：

* 指标名 + 值 + 单位 + 高/低标记
* 参考范围
* 采样时间
* “临床含义”（1行写死）
* “需要关注”（1行写死，不是建议开检查）

**右列：异常摘要**

* `异常概况`：一句话（写死）
* `异常分类`：炎症/心肌/凝血/肝肾…（写死标签）
* `与主诉关联的异常`：列出2~3个（写死）

**写死数据：**

* `abnormal_summary.json`：异常列表（结构化）+ 解释

---

### B区：原始数据表（下半）

**组件：**

* 标题：`原始检查报告（LIS导出样式）`
* `st.dataframe` 表格（字段尽量像真实）：

  * 项目名、结果、单位、参考范围、标记、采样时间、方法/仪器（可选）

**写死数据：**

* `lab_table.csv`（或json）

**可选图片：**

* 如果你要展示“病理报告原文”，建议放一张“扫描件风格”的图片（写死）

  * `reports/pathology_report.png`
  * 下方再放一个“原文文本框”（写死raw_text）

---

# 4) 页面四：病历单（原句分拣 + 辅助信息侧栏）

> 结构：左侧“病历草稿” + 右侧“可引用原句/相关检查”
> 诊断结果留白（输入框）

## 4.1 页面布局（两列：7:3）

### A区：病历草稿（左列，主区域）

分成三个大段（你要求的那三段），每段都体现“原句可选拼装”。

#### 1) 病史概况（来自对话原句）

**组件：**

* 标题：`病史概况`
* 左侧：`可选原句池`（多选列表/checkbox）
* 右侧：`已选原句 → 自动拼接预览`（文本框）
* 一个按钮：`插入到病历`（把拼接文本放进下方编辑框，Demo可简化为直接显示）

> 注意：这里是“医生挑句子”，不是系统替你写。

**写死数据：**

* `quote_pool_hpi.json`：可选原句池（每条带ts、role、text）

#### 2) 体格检查（不要说来自报告）

你前面写“从检测报告中拿医生原句”会被医生质疑。
演示里建议改成：**体格检查来自医生口述或模板（写死）**，更真实。

**组件：**

* 标题：`体格检查`
* 一个“模板片段选择”（写死3个选项）

  * `一般情况`
  * `心肺查体`
  * `腹部查体`
* 预览框：展示写死段落
* 可编辑文本框（医生可改）

**写死数据：**

* `pe_templates.json`：体格检查模板段落

#### 3) 诊断结果（留白）

**组件：**

* 标题：`诊断结果`
* 输入框：`诊断（留白，医生填写）`
* 可选：`鉴别诊断（可选，Demo可不做）`

#### 4) 病历最终编辑与导出

**组件：**

* 大文本编辑框：`完整病历内容（可编辑）`
* 按钮：

  * `生成病历草稿（Demo）`
  * `导出PDF（Demo）` / `复制文本`

（你不想做导出也行，但按钮要有，显得像闭环）

---

### B区：辅助信息侧栏（右列）

**组件：**

1. `最相关检查结果`（2~4条卡片）

   * 指标名 + 值 + 时间
2. `关键对话回放`（只显示最相关 6 条原句，写死）
3. `本次检查清单`（写死）

**写死数据：**

* `sidebar_support.json`

**可选图片：**

* 右侧可以放一个小“时间线”图片增强专业感（写死）

  * `assets/timeline.png`（可选）

---

# 5) Demo写死数据文件清单（你照着准备即可）

建议目录结构（你可以照抄）：

```
demo_data/
  patient.json
  summary.json

  transcript.json
  dialogue_highlights.json
  similar_cases.json

  order_sets.json
  orders_ranked.json
  order_warnings.json
  refs/
    ref1.png
    ref2.png

  abnormal_summary.json
  lab_table.csv
  reports/
    pathology_report.png

  quote_pool_hpi.json
  pe_templates.json
  sidebar_support.json

assets/
  icons/
    case.png
  timeline.png
```

---

# 6) 必须准备的“图片/素材”（我帮你分优先级）

## P0（强烈建议，直接提高可信度）

1. **书本引用截图**（每条提醒一张裁剪图）

   * `demo_data/refs/ref*.png`
2. **病理报告扫描件风格图**（可以是你自己做的假报告，别用真实隐私）

   * `demo_data/reports/pathology_report.png`

## P1（有更好，没有也能跑）

3. 小图标（病例、检查、报告）

   * `assets/icons/*.png`
4. 时间线小图（让右侧更“临床”）

   * `assets/timeline.png`

---

# 7) 你这份布局的“评委杀手锏”（你做的时候别漏）

为了让写死 Demo 看起来像真的，你必须在三处加“依据/来源”：

1. **相似病例卡片**：写死“相似点/不同点”
2. **开单提醒弹窗**：每条提醒配“病人上下文 + 引用截图 + 出处信息”
3. **病历引用原句**：每句带时间戳（ts）让人觉得可追溯

这三处会让人直觉：这不是PPT，这是能落地的产品形态。

---

如果你下一步愿意，我可以直接给你一份“**写死 demo 数据样例**”（比如一位“胸闷患者”的完整 transcript、相似病例6条、开单提醒4条、异常指标10条、病历可选原句池12条），你直接复制成 json/csv 就能开始写 Streamlit 页面。
